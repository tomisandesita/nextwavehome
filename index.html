<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Next wave</title>
    <link rel="stylesheet" href="style/main.css">
    <link rel="icon" href="image/servericon.png">
    <link rel="apple-touch-icon" sizes="180x180" href="image/servericon.png">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Kosugi&family=Zen+Maru+Gothic:wght@300;400;500;700;900&display=swap" rel="stylesheet">
    <style>

    </style>
</head>
<body>
    <header>
        <h1><div class="clickname"><a href="https://discord.gg/nextwaves">Next wave</a>　<a href="about.html" class="yesunder">about</a>　<a href="concept.html" class="yesunder">Concept</a></div></h1>
    </header>

    <main>

            <br><br><br>
            <div class="kakkoii">
                <h1>あの栄光はまた訪れる...</h1>
            </div>
            <div class="scroll">
                <span>Scroll</span>
            </div>

        <br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>
        
        <div class="kakkoii">
            <h3><a class="clickname" href="https://discord.gg/nextwaves">　🌊Next wave🌊<br>🌃Like the MTC🌇</a></h3>
        </div>
        <div class="kakkoii"><p>2024前期のMTCのような、<br> 盛り上がる楽しいサーバーを目指す、<br> 新しい雑談界隈の波。</p></div><a href="about.html" class="swipe-button">見てみる</a>
    </main>

    <footer></footer>

<script>
let lastScrollY = window.scrollY;
let isScrollingToBottom = false;

window.addEventListener("scroll", function() {
    let currentScrollY = window.scrollY;
    let documentHeight = document.documentElement.scrollHeight;
    let windowHeight = window.innerHeight;

    if (currentScrollY < lastScrollY) {
        window.scrollTo(0, lastScrollY);
        return;
    }

    if (currentScrollY > lastScrollY && !isScrollingToBottom) {
        console.log("下にスクロール");

        isScrollingToBottom = true; 
        window.scrollTo({
            top: documentHeight - windowHeight,
            behavior: "smooth"
        });


        setTimeout(() => {
            isScrollingToBottom = false;
        }, 1000);
    }

    lastScrollY = currentScrollY;
});

    function setCookie(name, value, days) {
        let expires = "";
        if (days) {
            let date = new Date();
            date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));
            expires = "; expires=" + date.toUTCString();
        }
        document.cookie = name + "=" + value + expires + "; path=/";
    }

    function getCookie(name) {
        let nameEQ = name + "=";
        let ca = document.cookie.split(';');
        for(let i = 0; i < ca.length; i++) {
            let c = ca[i];
            while (c.charAt(0) == ' ') c = c.substring(1, c.length);
            if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length, c.length);
        }
        return null;
    }

    function scrollToBottom() {
        window.scrollTo({ top: document.body.scrollHeight, behavior: "smooth" });
    }

    // ページ読み込み時にスクロール位置を確認
    window.onload = function() {
        if (getCookie("scrolled") === "true") {
            scrollToBottom();
        }
    };

    // スクロールしたらCookieを設定し、以後最下部固定
    window.onscroll = function() {
        setCookie("scrolled", "true", 30); // 30日間記録
    };
</script>
</body>
</html>
