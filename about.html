<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Next wave</title>
    <link rel="stylesheet" href="style/main.css">
    <link rel="icon" href="image/servericon.png">
    <link rel="apple-touch-icon" sizes="180x180" href="image/servericon.png">
    <style>

    </style>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Kosugi&family=Zen+Maru+Gothic:wght@300;400;500;700;900&display=swap" rel="stylesheet">
</head>
<body>
    <header>
        <h1><div class="clickname"><a href="https://discord.gg/nextwaves"><img src="image/servericon.png" alt="">Next wave</a>　　<a href="index.html" class="yesunder">Home</a>　<a href="concept.html" class="yesunder">Concept</a></div></h1>
    </header>

    <main>

            <br><br>
            <div class="kakkoii">
                <h1>About server</h1>
            </div>
                <h3>serverinfo</h3>
                <p>Owner・とみー（izpf）<br>Serverlink・<a class="yesunder2" href="https://discord.gg/nextwaves">https://discord.gg/nextwaves</a><br><p id="daysAgo"></p><p id="memberCount">メンバー数を取得中...</p></p>

    </main>

    <footer></footer>

<script>
        function calculateDaysAgo(targetDate) {
            const today = new Date(); 
            const pastDate = new Date(targetDate); 
            const diffTime = today - pastDate; 
            const diffDays = Math.floor(diffTime / (1000 * 60 * 60 * 24)); 
            return "created・" + diffDays + " Days ago";
        }
        document.getElementById("daysAgo").textContent = calculateDaysAgo("2025-2-8");
        async function fetchMemberCount() {
            const apiUrl = "https://discord.com/api/guilds/1337669260096307212/widget.json";

            try {
                const response = await fetch(apiUrl);
                if (!response.ok) throw new Error("データの取得に失敗しました");

                const data = await response.json();
                const memberCount = data.presence_count; // 現在のオンライン人数

                document.getElementById("memberCount").textContent = `オンラインメンバー・${memberCount}人`;
            } catch (error) {
                document.getElementById("memberCount").textContent = "メンバー数を取得できませんでした";
                console.error("エラー:", error);
            }
        }

        fetchMemberCount();
        setInterval(fetchMemberCount, 60000); // 60秒ごとに更新
</script>
</body>
</html>
